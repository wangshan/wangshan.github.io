---
layout: post
title: How to install ArchLinux in VirtualBox on Mac OSX 10.6
date: '2013-01-20T16:15:00.000Z'
author: swang
tags: 
modified_time: '2013-11-16T23:50:17.641Z'
blogger_id: tag:blogger.com,1999:blog-6338160651537141164.post-1113281250764819552
blogger_orig_url: http://swang-ztransform.blogspot.com/2013/01/how-to-install-archlinux-in-virtualbox.html
---

download core iso file:<br />archlinux-2011.08.19-core-x86_64.iso<br /><br />download checksum:<br />sha1sums.txt<br /><br />install md5sha1sum:<br /># brew install md5sha1sum<br /><br />check integrity:<br /><br />swang@swang-macbook ~/Downloads$ sha1sum --check sha1sums.txt &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />zsh: correct 'sha1sum' to 'shasum' [nyae]? n<br /><br />sha1sum: stat 'archlinux-2011.08.19-core-dual.iso': No such file or directory<br />sha1sum: stat 'archlinux-2011.08.19-core-i686.iso': No such file or directory<br />archlinux-2011.08.19-core-x86_64.iso: OK<br />sha1sum: stat 'archlinux-2011.08.19-netinstall-dual.iso': No such file or directory<br />sha1sum: stat 'archlinux-2011.08.19-netinstall-i686.iso': No such file or directory<br />sha1sum: stat 'archlinux-2011.08.19-netinstall-x86_64.iso': No such file or directory<br />sha1sum: stat 'archlinux-2011.08.19-core-dual.iso.torrent': No such file or directory<br />sha1sum: stat 'archlinux-2011.08.19-core-i686.iso.torrent': No such file or directory<br />archlinux-2011.08.19-core-x86_64.iso.torrent: OK<br />sha1sum: stat 'archlinux-2011.08.19-netinstall-dual.iso.torrent': No such file or directory<br />sha1sum: stat 'archlinux-2011.08.19-netinstall-i686.iso.torrent': No such file or directory<br />sha1sum: stat 'archlinux-2011.08.19-netinstall-x86_64.iso.torrent': No such file or directory<br /><br />burn the .iso file to dvd (note: note as a volume but as a iso image)<br /><br />create a new virtual machine in virtual box, start it and boot from dvd.<br /><br />choose Boot Arch Linux<br /><br /># /arch/setup<br />Then follow the Arch Linux Installation Framework.<br />I've chosen ext3 for / and /home<br /><br />Configuration files(Important!!)<br /><br />/etc/rc.conf : kept keymap as us<br />/etc/fstab : filesystem<br />/etc/resolv.conf : DNS<br />/etc/hosts<br />/etc/local.gen : used by /usr/bin/locale-gen to generate locales<br />/etc/pacman.conf : uncommented [multilib] and all the uk mirrors<br />/boot/grub/menu.lst : add vga=0x318 to [kernel] line<br /><br />After installation:<br />refresh package db<br />#pacman -Syy<br /><br />change keyserver in&nbsp;<span style="background-color: #fafafa; color: #333333; font-family: monospace; font-size: 11px; line-height: 28px; text-align: left;">/etc/pacman.d/gnupg/gpg.conf&nbsp;</span>to hkp://pgp.mit.edu:11371<br /><br />initialize pgp keys:<br />#pacman-key --init<br />#<span style="background-color: white; color: #333333; font-family: 'Courier New', Courier, Fixed; font-size: 16px; text-align: left;">for key in FFF979E7 CDFD6BB0 4C7EA887 6AC6A4C2 824B18E8; do</span><br /><span style="background-color: white; color: #333333; font-family: 'Courier New', Courier, Fixed; font-size: 16px; text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;pacman-key --recv-keys $key</span><br /><span style="background-color: white; color: #333333; font-family: 'Courier New', Courier, Fixed; font-size: 16px; text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;pacman-key --lsign-key $key</span><br /><span style="background-color: white; color: #333333; font-family: 'Courier New', Courier, Fixed; font-size: 16px; text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;printf 'trust\n3\nquit\n' | gpg --homedir /etc/pacman.d/gnupg/ \</span><br /><span style="background-color: white; color: #333333; font-family: 'Courier New', Courier, Fixed; font-size: 16px; text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--no-permission-warning --command-fd 0 --edit-key $key</span><br /><span style="background-color: white; color: #333333; font-family: 'Courier New', Courier, Fixed; font-size: 16px; text-align: left;">done</span><br /><br />sync the entire system had to do this twice as pacman itself needed update<br />#pacman -Syu<br /><br />Add non-root user, and add it to wheel group(all according to beginner's guide)<br /><br />Installed xserver and twm for testing, haven't installed any desktop environment.<br />Installed Guest Addition for virtualbox, configured ~/.xinitrc<br />#cp /etc/skel/xinitrc ~/.xinitrc<br />There must be one exec command not commented in .xinitrc, then add VBoxClient-all &amp; to the first line.<br /><br />startx works, but without a windows manager it seems impossible to extend xterm to a bigger resolution, even the&nbsp;automatic&nbsp;resize works for the x windows as a whole. So I may need to choose a desktop environment anyway.<br /><br />There seems no way to have automatic resize in the console.<br /><br />tried to use gpm for console mouse support, but it's horrible.<br /><br /><br /><br />